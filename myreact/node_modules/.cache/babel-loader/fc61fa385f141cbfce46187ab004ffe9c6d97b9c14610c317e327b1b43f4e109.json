{"ast":null,"code":"import _toConsumableArray from\"/Users/jangyoungju/Desktop/webproject/homework/project/myreact/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/jangyoungju/Desktop/webproject/homework/project/myreact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Container,Nav,Navbar}from'react-bootstrap';import{Link,Route,Routes,useNavigate}from'react-router-dom';import{useState,useEffect}from'react';import axios from\"axios\";import{MdDone}from'react-icons/md';import{changeDate,changeTitle,addTodo,fetchChecked}from'./Function';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function List(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),todo=_useState6[0],setTodo=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),completed=_useState8[0],setCompleted=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),writer=_useState10[0],setWriter=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),clock=_useState12[0],setClock=_useState12[1];var navigate=useNavigate();useEffect(function(){fetchTodo();var Clock=setInterval(function(){var time=new Date();setClock(time.getHours()+\" : \"+time.getMinutes()+\" : \"+time.getSeconds());},1000);},[]);var fetchTodo=function fetchTodo(){axios.get('http://localhost:8000/add').then(function(res){setTodo(res.data[0]);setWriter(res.data[1]);//req.user.id 가져옴\nconsole.log(res.data);}).catch(function(err){console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"clock\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"homeFont\",children:\" To Do List \"}),/*#__PURE__*/_jsx(\"div\",{className:\"clock\",children:clock})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inputBox\",children:/*#__PURE__*/_jsx(InputToDo,{style:{justifyContent:\"space-between\"},title:title,setTitle:setTitle,date:date,setDate:setDate,todo:todo,setTodo:setTodo,completed:completed,setCompleted:setCompleted})}),/*#__PURE__*/_jsxs(\"div\",{className:\"listBox\",children:[todo.map(function(a,i){if(writer==a.writer){return/*#__PURE__*/_jsx(ListItem,{item:a,index:i,todo:todo,setTodo:setTodo});}}),/*#__PURE__*/_jsx(\"div\",{className:\"listItem\"})]})]})]});}function InputToDo(props){var navigate=useNavigate();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px'},children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return changeDate(e,props.setDate);},type:\"date\",className:\"inputDate\"})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px'},children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return changeTitle(e,props.setTitle);},type:\"text\",placeholder:\"\\uD560 \\uC77C\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",className:\"inputTitle\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submitButton\",onClick:function onClick(){addTodo(props.title,props.date,props.completed,props.setTodo,props.setTitle,props.setDate,props.setCompleted,navigate);},children:\"todo!\"})]});}function ListItem(_ref){var item=_ref.item,index=_ref.index,todo=_ref.todo,setTodo=_ref.setTodo;var deleteTodo=function deleteTodo(id,i){if(window.confirm('정말 삭제할까요?')){axios.delete(\"http://localhost:8000/delete/\".concat(id)).then(function(res){var copy=_toConsumableArray(todo);copy.splice(i,1);setTodo(copy);alert('삭제되었습니다.');console.log('res.data : '+res.data);}).catch(function(err){console.log(err);});}};var _useState13=useState(item.completed),_useState14=_slicedToArray(_useState13,2),isCompleted=_useState14[0],setIsCompleted=_useState14[1];useEffect(function(){fetchChecked(item._id,isCompleted);},[isCompleted]);return/*#__PURE__*/_jsxs(\"div\",{className:\"listItem\",children:[/*#__PURE__*/_jsx(\"button\",{className:isCompleted?'completedButton':'incompletedButton',onClick:function onClick(){setIsCompleted(!isCompleted);console.log(isCompleted);},children:isCompleted?/*#__PURE__*/_jsx(MdDone,{}):null}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{whiteSpace:\"nowrap\"},children:item.title}),/*#__PURE__*/_jsx(\"span\",{children:item.date})]}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteButton\",\"data-id\":todo._id,onClick:function onClick(){var id=item._id;deleteTodo(id,index);},children:\" \\uD83D\\uDDD1\\uFE0F \"})]},index);}export default List;","map":{"version":3,"names":["Button","Container","Nav","Navbar","Link","Route","Routes","useNavigate","useState","useEffect","axios","MdDone","changeDate","changeTitle","addTodo","fetchChecked","jsx","_jsx","jsxs","_jsxs","List","_useState","_useState2","_slicedToArray","date","setDate","_useState3","_useState4","title","setTitle","_useState5","_useState6","todo","setTodo","_useState7","_useState8","completed","setCompleted","_useState9","_useState10","writer","setWriter","_useState11","_useState12","clock","setClock","navigate","fetchTodo","Clock","setInterval","time","Date","getHours","getMinutes","getSeconds","get","then","res","data","console","log","catch","err","children","className","InputToDo","style","justifyContent","map","a","i","ListItem","item","index","props","padding","onChange","e","type","placeholder","onClick","_ref","deleteTodo","id","window","confirm","delete","concat","copy","_toConsumableArray","splice","alert","_useState13","_useState14","isCompleted","setIsCompleted","_id","whiteSpace"],"sources":["/Users/jangyoungju/Desktop/webproject/homework/project/myreact/src/Components/List.js"],"sourcesContent":["import { Button, Container, Nav, Navbar } from 'react-bootstrap';\nimport { Link, Route, Routes, useNavigate } from 'react-router-dom'\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\"\nimport { MdDone } from 'react-icons/md'\n\nimport {changeDate, changeTitle, addTodo, fetchChecked} from './Function'\n\n\nfunction List() {\n    let [date, setDate] = useState(\"\")\n    let [title, setTitle] = useState(\"\")\n    let [todo, setTodo] = useState([])\n    let [completed, setCompleted] = useState()\n    let [writer, setWriter] = useState('');\n    \n    let [clock, setClock] = useState('')\n\n    let navigate = useNavigate()\n\n    useEffect(() => {\n        fetchTodo()\n\n        const Clock = setInterval(() => {\n            let time = new Date()\n            setClock(time.getHours() + \" : \" + time.getMinutes() + \" : \" + time.getSeconds())\n        }, 1000)\n\n    }, [])\n    \n\n    const fetchTodo = () => {\n        axios.get('http://localhost:8000/add')  \n            .then((res) => { \n                setTodo(res.data[0])\n                setWriter(res.data[1]) //req.user.id 가져옴\n                console.log(res.data)\n            })\n            .catch((err) => {\n                console.log(err) \n        })\n    }\n\n\n    return (\n        <div> \n            <div className='title'>\n                <div className='clock'></div>\n                <h1 className='homeFont'> To Do List </h1>\n                <div className='clock'>{clock}</div>\n            </div>\n            {/* <p className='listTitle'> My List </p> */}\n            <div className='container'>\n                <div className='inputBox'>\n                    <InputToDo style={{justifyContent: \"space-between\"}} title={title} setTitle={setTitle} date={date} setDate={setDate} todo={todo} setTodo={setTodo} completed={completed} setCompleted={setCompleted}></InputToDo> \n                </div>  \n                \n                <div className='listBox'>\n                    {\n                        todo.map((a, i) => {\n                            if (writer == a.writer) {\n                                return (\n                                    <ListItem item={a} index={i} todo={todo} setTodo={setTodo}/>\n                                )\n                            }\n                        })\n                    }\n                    <div className='listItem'></div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nfunction InputToDo(props) {\n    \n    let navigate = useNavigate()\n\n    return (\n      <div>\n        <div style={{padding: '10px'}}>\n            <input onChange={(e) => \n            changeDate(e, props.setDate)} \n            type=\"date\" \n            className='inputDate'></input>\n        </div>\n\n        <div style={{padding: '10px'}}>\n            <input onChange={(e) => \n            changeTitle(e, props.setTitle)} \n            type=\"text\" \n            placeholder=\"할 일을 입력하세요\" \n            className='inputTitle'></input>\n        </div>\n\n        <button type=\"submit\" className=\"submitButton\" onClick={() => {\n            addTodo(props.title, props.date, props.completed, props.setTodo, props.setTitle, props.setDate, props.setCompleted, navigate)\n        }}>todo!</button>\n      </div>\n    );\n}\n\nfunction ListItem({item, index, todo, setTodo}) {\n\n    const deleteTodo = (id, i) => {\n        if(window.confirm('정말 삭제할까요?')) {\n            axios.delete(`http://localhost:8000/delete/${id}`)\n            .then((res) => { \n                let copy = [...todo]\n                copy.splice(i,1)\n                setTodo(copy)\n                alert('삭제되었습니다.')\n                console.log('res.data : ' + res.data)\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n        }\n    }\n    let [isCompleted, setIsCompleted] = useState(item.completed)\n    useEffect(() => {\n        fetchChecked(item._id, isCompleted)\n    }, [isCompleted])\n\n        return (\n            <div className='listItem' key={index}>\n                <button className={isCompleted ? 'completedButton' : 'incompletedButton'}\n                onClick={() => {\n                    setIsCompleted(!isCompleted)\n                    console.log(isCompleted)\n                }}\n                >{isCompleted ? <MdDone/> : null}</button>\n                <div>\n                    <span style={{whiteSpace: \"nowrap\"}}>{item.title}</span>\n                    <span>{item.date}</span>\n                </div>\n                <button className='deleteButton' data-id={todo._id} onClick={() => {\n                    var id = item._id\n                    deleteTodo(id, index)\n                }} > 🗑️ </button>\n            </div> \n        )\n}\n\nexport default List\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}