{"ast":null,"code":"import _toConsumableArray from\"/Users/jangyoungju/Desktop/webproject/homework/project/myreact/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/jangyoungju/Desktop/webproject/homework/project/myreact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Container,Nav,Navbar}from'react-bootstrap';import{Link,Route,Routes,useNavigate}from'react-router-dom';import{useState,useEffect}from'react';import axios from\"axios\";import{changeDate,changeTitle,addTodo}from'./Function';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function List(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),todo=_useState6[0],setTodo=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),checkedItem=_useState8[0],setCheckedItem=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),writer=_useState10[0],setWriter=_useState10[1];var navigate=useNavigate();useEffect(function(){fetchTodo();},[]);var fetchTodo=function fetchTodo(){axios.get('http://localhost:8000/add').then(function(res){setTodo(res.data[0]);setWriter(res.data[1]);//req.user.id Í∞ÄÏ†∏Ïò¥\nconsole.log(res.data);}).catch(function(err){console.log(err);});};var deleteTodo=function deleteTodo(id,i){if(window.confirm('Ï†ïÎßê ÏÇ≠Ï†úÌï†ÍπåÏöî?')){axios.delete(\"http://localhost:8000/delete/\".concat(id)).then(function(res){var copy=_toConsumableArray(todo);copy.splice(i,1);setTodo(copy);alert('ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.');console.log('res.data : '+res.data);}).catch(function(err){console.log(err);});}};var getChecked=function getChecked(checked,id){if(checked){setCheckedItem(function(prev){return[].concat(_toConsumableArray(prev),[id]);});}else{setCheckedItem(checkedItem.filter(function(v){return v!==id;}));}console.log(checkedItem);axios.post(\"http://localhost:8000/completed\",{completed:checked}).then(function(res){console.log('success to checked completed');}).catch(function(err){console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"homeFont\",children:\" To Do List \"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inputBox\",children:/*#__PURE__*/_jsx(InputToDo,{style:{justifyContent:\"space-between\"},title:title,setTitle:setTitle,date:date,setDate:setDate,todo:todo,setTodo:setTodo})}),/*#__PURE__*/_jsxs(\"div\",{className:\"listBox\",children:[todo.map(function(a,i){if(writer==a.writer){return/*#__PURE__*/_jsxs(\"div\",{className:\"listItem\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){return getChecked(e.target.checked,a._id);},checked:checkedItem.includes(a._id)?true:false}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{whiteSpace:\"nowrap\"},children:a.title}),/*#__PURE__*/_jsx(\"span\",{children:a.date})]}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteButton\",\"data-id\":todo._id,onClick:function onClick(){var id=a._id;deleteTodo(id,i);},children:\" \\uD83D\\uDDD1\\uFE0F \"})]},i);}}),/*#__PURE__*/_jsx(\"div\",{className:\"listItem\"})]})]})]});}function InputToDo(props){var navigate=useNavigate();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px'},children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return changeDate(e,props.setDate);},type:\"date\",className:\"inputDate\"})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px'},children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return changeTitle(e,props.setTitle);},type:\"text\",placeholder:\"\\uD560 \\uC77C\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",className:\"inputTitle\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submitButton\",onClick:function onClick(){addTodo(props.title,props.date,props.setTodo,props.setTitle,props.setDate,navigate);},children:\"todo!\"})]});}export default List;","map":{"version":3,"names":["Button","Container","Nav","Navbar","Link","Route","Routes","useNavigate","useState","useEffect","axios","changeDate","changeTitle","addTodo","jsx","_jsx","jsxs","_jsxs","List","_useState","_useState2","_slicedToArray","date","setDate","_useState3","_useState4","title","setTitle","_useState5","_useState6","todo","setTodo","_useState7","_useState8","checkedItem","setCheckedItem","_useState9","_useState10","writer","setWriter","navigate","fetchTodo","get","then","res","data","console","log","catch","err","deleteTodo","id","i","window","confirm","delete","concat","copy","_toConsumableArray","splice","alert","getChecked","checked","prev","filter","v","post","completed","children","className","InputToDo","style","justifyContent","map","a","type","onChange","e","target","_id","includes","whiteSpace","onClick","props","padding","placeholder"],"sources":["/Users/jangyoungju/Desktop/webproject/homework/project/myreact/src/Components/List.js"],"sourcesContent":["import { Button, Container, Nav, Navbar } from 'react-bootstrap';\nimport { Link, Route, Routes, useNavigate } from 'react-router-dom'\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\"\n\nimport {changeDate, changeTitle, addTodo} from './Function'\n\n\nfunction List() {\n    let [date, setDate] = useState(\"\")\n    let [title, setTitle] = useState(\"\")\n    let [todo, setTodo] = useState([])\n    let [checkedItem, setCheckedItem] = useState([])\n    let [writer, setWriter] = useState('');\n\n    let navigate = useNavigate()\n\n    useEffect(() => {\n        fetchTodo()\n    }, [])\n    \n\n    const fetchTodo = () => {\n        axios.get('http://localhost:8000/add')  \n            .then((res) => { \n                setTodo(res.data[0])\n                setWriter(res.data[1]) //req.user.id Í∞ÄÏ†∏Ïò¥\n                console.log(res.data)\n            })\n            .catch((err) => {\n                console.log(err) \n        })\n    }\n\n    const deleteTodo = (id, i) => {\n        if(window.confirm('Ï†ïÎßê ÏÇ≠Ï†úÌï†ÍπåÏöî?')) {\n            axios.delete(`http://localhost:8000/delete/${id}`)\n            .then((res) => { \n                let copy = [...todo]\n                copy.splice(i,1)\n                setTodo(copy)\n                alert('ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.')\n                console.log('res.data : ' + res.data)\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n        }\n    }\n\n    const getChecked = (checked, id) => {\n        if (checked) {\n            setCheckedItem(prev => [...prev, id])\n        }\n        else {\n            setCheckedItem(checkedItem.filter((v) => v !== id))\n        }\n        console.log(checkedItem)\n        axios.post(`http://localhost:8000/completed`, {completed: checked})\n        .then((res) => {console.log('success to checked completed')})\n        .catch((err) => {console.log(err)})\n    }\n\n    return (\n        <div> \n            <div className='title'>\n                <h1 className='homeFont'> To Do List </h1>\n            </div>\n            {/* <p className='listTitle'> My List </p> */}\n            <div className='container'>\n                <div className='inputBox'>\n                    <InputToDo style={{justifyContent: \"space-between\"}} title={title} setTitle={setTitle} date={date} setDate={setDate} todo={todo} setTodo={setTodo}></InputToDo> \n                </div>  \n                \n                <div className='listBox'>\n                    {\n                        todo.map((a, i) => {\n                            if (writer == a.writer) {\n                                return (\n                                    <div className='listItem' key={i}>\n                                        <input \n                                        type='checkbox' \n                                        onChange={(e) => getChecked(e.target.checked, a._id)}\n                                        checked={checkedItem.includes(a._id) ? true : false}/>\n                                        <div>\n                                            <span style={{whiteSpace: \"nowrap\"}}>{a.title}</span>\n                                            <span>{a.date}</span>\n                                        </div>\n                                        <button className='deleteButton' data-id={todo._id} onClick={() => {\n                                            var id = a._id\n                                            deleteTodo(id, i)\n                                        }} > üóëÔ∏è </button>\n                                    </div> \n                                )\n                            }\n                        })\n                    }\n                    <div className='listItem'></div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nfunction InputToDo(props) {\n    \n    let navigate = useNavigate()\n\n    return (\n      <div>\n        <div style={{padding: '10px'}}>\n            <input onChange={(e) => \n            changeDate(e, props.setDate)} \n            type=\"date\" \n            className='inputDate'></input>\n        </div>\n\n        <div style={{padding: '10px'}}>\n            <input onChange={(e) => \n            changeTitle(e, props.setTitle)} \n            type=\"text\" \n            placeholder=\"Ìï† ÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" \n            className='inputTitle'></input>\n        </div>\n\n        <button type=\"submit\" className=\"submitButton\" onClick={() => {\n            addTodo(props.title, props.date, props.setTodo, props.setTitle, props.setDate, navigate)\n        }}>todo!</button>\n      </div>\n    );\n  }\n  \nexport default List\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}